<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Projects</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <!-- 保持背景图片与index.html一致 -->
    <style>
        body {
            margin: 0;
            padding: 0;
            min-height: 100vh;
            background: url('images/test_again.jpg') no-repeat center center fixed;
            background-size: cover;
            font-family: 'Segoe UI', Arial, sans-serif;
            color: #fff;
        }
        .overlay {
            /* 使用均匀的黑色半透明遮罩，避免上下亮度不一致 */
            background: rgba(0,0,0,0.6);
            min-height: 100vh;
            width: 100%;
            position: fixed;
            top: 0; left: 0;
            z-index: 0;
            pointer-events: none;
        }
        .container {
            position: relative;
            z-index: 1;
            padding: 60px 0 40px 0;
            max-width: 1100px;
            margin: 0 auto;
        }
        h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            letter-spacing: 2px;
            text-align: center;
        }
        .typing {
            font-size: 1.3rem;
            color: #e1e0de;
            text-align: center;
            min-height: 2.2em;
            margin-bottom: 40px;
            font-family: 'Fira Mono', 'Consolas', monospace;
            white-space: pre;
        }
        main {
            display: flex;
            flex-wrap: wrap;
            gap: 32px;
            justify-content: center;
        }
        .project-card {
            background: rgba(219, 216, 216, 0.85);
            border-radius: 16px;
            box-shadow: 0 4px 16px rgba(217, 216, 216, 0.2);
            overflow: hidden;
            width: 320px;
            transition: transform 0.2s, box-shadow 0.2s, background 0.2s;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            text-decoration: none;
            color: inherit;
        }
        .project-card:hover {
            transform: translateY(-10px) scale(1.03);
            box-shadow: 0 8px 32px rgba(235, 234, 231, 0.25), 0 4px 16px rgba(0,0,0,0.3);
            background: rgba(195, 191, 191, 0.95);
        }
        .project-image {
            width: 100%;
            height: 180px;
            object-fit: cover;
            background: #222;
        }
        .project-content {
            padding: 18px 20px 20px 20px;
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
        }
        .project-title {
            font-size: 1.25rem;
            font-weight: bold;
            margin-bottom: 8px;
            color: #101010;
        }
        main {
            display: flex;
            flex-direction: column;
            gap: 32px;
            align-items: center;
        }
        .project-card {
            flex-direction: row;
            width: 700px;
            max-width: 95vw;
            min-height: 200px;
            align-items: stretch;
            margin-left: auto;
            margin-right: auto;
        }
        .project-image {
            width: 240px;
            height: 100%;
            min-height: 200px;
            object-fit: cover;
            border-top-left-radius: 16px;
            border-bottom-left-radius: 16px;
            border-top-right-radius: 0;
            border-bottom-right-radius: 0;
        }
        .project-content {
            padding: 24px 28px 24px 28px;
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        @media (max-width: 800px) {
            .project-card {
            flex-direction: column;
            width: 98vw;
            max-width: 370px;
            }
            .project-image {
            width: 100%;
            height: 180px;
            min-height: unset;
            border-radius: 16px 16px 0 0;
            }
            .project-content {
            padding: 18px 20px 20px 20px;
            }
        }
        .project-desc {
            font-size: 0.85rem;
            color: #3c3b3b;
        }
        @media (max-width: 700px) {
            main {
                flex-direction: column;
                align-items: center;
            }
            .project-card {
                width: 95vw;
                max-width: 370px;
            }
        }
    </style>
</head>
<body>
    <nav id="navbar">
        <ul>
        <li><a href="#search" onclick="openSearchModal(event)"><i class="fas fa-search"></i> Search</a></li>
        <li><a href="index.html" onclick="forceReload(event, 'index.html')"><i class="fas fa-home"></i> Home</a></li>
        <li><a href="notes.html" onclick="forceReload(event, 'notes.html')"><i class="fas fa-book"></i> Notes</a></li>
        <li><a href="projects.html" onclick="forceReload(event, 'projects.html')"><i class="fas fa-tools"></i> Projects</a></li>
        </ul>
    </nav>

    <!-- </style>Centered Search Modal (moved outside nav/ul) -->
    <div id="searchModal" style="display:none; position:fixed; z-index:1000; left:0; top:0; width:100vw; height:100vh; background:rgba(240,242,247,0.85);">
        <div style="background:#fff; width:100%; max-width:370px; margin:12vh auto; padding:28px 22px 18px 22px; border-radius:13px; box-shadow:0 8px 32px rgba(60,80,120,0.12); position:relative; text-align:center;">
        <button onclick="closeSearchModal()" style="position:absolute; right:14px; top:10px; background:none; border:none; font-size:22px; color:#888; cursor:pointer;">&times;</button>
        <h3 style="margin-top:0; color:#2a2a2a; font-weight:600;">Search</h3>
        <div style="display:flex; align-items:center; border:1.5px solid #e0e4ef; border-radius:6px; background:#f7f9fc; padding:6px 10px; margin-bottom:14px; justify-content:center;">
            <i class="fas fa-search" style="color:#b0b6c6; font-size:17px; margin-right:7px;"></i>
            <div style="position:relative; flex:1; display:flex; align-items:center;">
            <input id="searchInput" type="text" placeholder="Type a keyword..." autocomplete="off"
                style="width:100%; border:none; outline:none; background:transparent; font-size:16px; color:#222; padding:4px 0; letter-spacing:0.01em;"
                oninput="showSuggestions()" onkeydown="handleSearchKey(event)">
            <span id="blink-cursor" style="position:absolute; right:7px; width:1.5px; height:19px; background:#3a3a3a; animation:blink 1s steps(1) infinite;"></span>
            </div>
        </div>
        <div id="suggestions" style="text-align:left; margin:0 auto 8px auto; max-width:320px;"></div>
        <div style="margin-top:14px; color:#a0a4b0; font-size:13px;">
            <strong>Site Keywords:</strong>
            <span id="siteKeywords" style="color:#7a7e8a;">notes, projects, computer engineering, study, EE, CS, learning, research, vlogs, USA, collaboration</span>
        </div>
        </div>
    </div>
    <style>
    @keyframes blink {
        0% { opacity: 1; }
        50% { opacity: 0; }
        100% { opacity: 1; }
    }
    .suggestion-link {
        display:block;
        padding:7px 12px;
        border-radius:5px;
        color:#2a2a2a;
        text-decoration:none;
        font-size:15px;
        transition:background 0.15s;
        margin-bottom:2px;
    }
    .suggestion-link:hover {
        background:#e6eaf7;
        color:#1a4ea0;
    }
    #searchModal input:focus + #blink-cursor,
    #searchModal input:not(:focus) + #blink-cursor {
        animation: blink 1s steps(1) infinite;
    }
    </style>
    <script>
    const siteKeywords = [
        "notes", "projects", "computer engineering", "study", "EE", "CS", "learning", "blog", "contact", "research", "vlogs", "USA", "collaboration",
        "ece201", "ece202", "ece203", "cse231", "cse232", "mth132", "mth133", "mth234", "mth235", "phy183", "phy184"
    ];
    const keywordLinks = {
        "notes": "notes.html",
        "projects": "projects.html",
        "computer engineering": "notes.html",
        "study": "notes.html",
        "EE": "notes.html",
        "CS": "notes.html",
        "learning": "notes.html",
        "blog": "index.html",
        "contact": "#contact",
        "research": "notes.html",
        "vlogs": "index.html",
        "USA": "index.html",
        "collaboration": "#contact",
        "ece201": "ece201.html",
        "ece202": "ece202.html",
        "ece203": "ece203.html",
        "cse231": "cse231.html",
        "cse232": "cse232.html",
        "mth132": "mth132.html",
        "mth133": "mth133.html",
        "mth234": "mth234.html",
        "mth235": "mth235.html",
        "phy183": "phy183.html",
        "phy184": "phy184.html",
    };
    function openSearchModal(event) {
        event.preventDefault();
        document.getElementById('searchModal').style.display = 'block';
        document.getElementById('searchInput').value = '';
        document.getElementById('suggestions').innerHTML = '';
        setTimeout(() => document.getElementById('searchInput').focus(), 100);
    }
    function closeSearchModal() {
        document.getElementById('searchModal').style.display = 'none';
    }
    function showSuggestions() {
        const input = document.getElementById('searchInput').value.trim().toLowerCase();
        const suggestionsDiv = document.getElementById('suggestions');
        if (!input) {
        suggestionsDiv.innerHTML = '';
        return;
        }
        const matches = siteKeywords.filter(k => k.toLowerCase().includes(input));
        if (matches.length) {
        suggestionsDiv.innerHTML = matches.map(m =>
            `<a class="suggestion-link" href="${keywordLinks[m] || '#'}" onclick="closeSearchModal()">${m}</a>`
        ).join('');
        } else {
        suggestionsDiv.innerHTML = '<span style="color:#b00; font-size:15px;">No matching keywords found.</span>';
        }
    }
    function handleSearchKey(e) {
        if (e.key === 'Enter') {
        const suggestions = document.querySelectorAll('#suggestions .suggestion-link');
        if (suggestions.length) {
            suggestions[0].click();
        }
        }
    }
    // Close modal on ESC
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') closeSearchModal();
    });
    // Close modal when clicking outside
    document.getElementById('searchModal').addEventListener('click', function(e) {
        if (e.target === this) closeSearchModal();
    });
    // Close model when scrolling down
    document.addEventListener('scroll', function() {
        if (document.getElementById('searchModal').style.display === 'block') {
            closeSearchModal();
        }
    });
    </script>
    <!-- 只弹出对话框，无灰色遮罩，且可正常输入和关闭 -->
    <style>
    #searchModal {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0; top: 0;
        width: 100vw; height: 100vh;
        background: transparent !important; /* 无遮罩 */
    }
    #searchModal .search-dialog {
        background: #fff;
        width: 100%;
        max-width: 370px;
        margin: 12vh auto;
        padding: 28px 22px 18px 22px;
        border-radius: 13px;
        box-shadow: 0 8px 32px rgba(60,80,120,0.12);
        position: relative;
        text-align: center;
    }
    .suggestion-link {
        display:block;
        padding:7px 12px;
        border-radius:5px;
        color:#2a2a2a;
        text-decoration:none;
        font-size:15px;
        transition:background 0.15s;
        margin-bottom:2px;
    }
    .suggestion-link:hover {
        background:#e6eaf7;
        color:#1a4ea0;
    }
    @keyframes blink {
        0% { opacity: 1; }
        50% { opacity: 0; }
        100% { opacity: 1; }
    }
    /* 删除右侧多余的blink-cursor相关样式 */
    /* 移除右侧多余的blink-cursor */
    </style>
    <div id="searchModal">
        <div class="search-dialog" onclick="event.stopPropagation();">
        <button onclick="closeSearchModal()" style="position:absolute; right:14px; top:10px; background:none; border:none; font-size:22px; color:#888; cursor:pointer;">&times;</button>
        <h3 style="margin-top:0; color:#2a2a2a; font-weight:600;">Search</h3>
        <div style="display:flex; align-items:center; border:1.5px solid #e0e4ef; border-radius:6px; background:#f7f9fc; padding:6px 10px; margin-bottom:14px; justify-content:center;">
            <i class="fas fa-search" style="color:#b0b6c6; font-size:17px; margin-right:7px;"></i>
            <input id="searchInput" type="text" placeholder="Type a keyword..." autocomplete="off"
            style="width:100%; border:none; outline:none; background:transparent; font-size:16px; color:#222; padding:4px 0; letter-spacing:0.01em;"
            oninput="showSuggestions()" onkeydown="handleSearchKey(event)">
        </div>
        <div id="suggestions" style="text-align:left; margin:0 auto 8px auto; max-width:320px;"></div>
        <div style="margin-top:14px; color:#a0a4b0; font-size:13px;">
            <strong>Site Keywords:</strong>
            <span id="siteKeywords" style="color:#7a7e8a;">notes, projects, EE, CS, blog, contact</span>
        </div>
        </div>
    </div>
    <script>
        // 只允许点击对话框外关闭
        document.getElementById('searchModal').addEventListener('click', function(e) {
        if (e.target === this) closeSearchModal();
        });
    </script>

    <script>
        function forceReload(event, targetPage) {
        const current = window.location.pathname.split('/').pop(); // 当前页面名
        if (current === targetPage) {
            event.preventDefault(); // 阻止默认跳转
            window.location.reload(); // 强制刷新
        }
        // 否则照常跳转
        }
    </script>
    <div class="overlay"></div>
    <div class="container">
        <h1>Projects</h1>
        <div class="typing" id="typing"></div>
        <main>
            <!-- Project 1 -->
            <a class="project-card" href="https://github.com/caishamble/Pipeline_Inspection_Robot?tab=readme-ov-file" target="_blank">
                <img class="project-image" src="images/project_one.png" alt="Project 1">
                <div class="project-content">
                    <div class="project-title">NDE Pipeline Inspection Robot</div>
                    <div class="project-desc">
                        This project develops a pipeline inspection robot using non-destructive evaluation (NDE) techniques. The robot enters pipelines and performs tasks without causing damage. It supports forward/backward movement, detects issues, and provides feedback. Control circuits manage movement, and a Finite State Machine (FSM) with Verilog code is implemented. Simulations with two data sets are conducted for evaluation.
                    </div>
                </div>
            </a>
            <!-- Project 2 -->
            <a class="project-card" href="https://github.com/programmeruser517/C2L" target="_blank">
                <img class="project-image" src="images/project_two.png" alt="Project 2">
                <div class="project-content">
                    <div class="project-title">C2L-Connect to Learn</div>
                    <div class="project-desc">
                        Connect2Learn is a mobile app that fosters an academic social network connecting students with learning opportunities, study partners, and resources. Built with Dart and Flutter, it lets users create profiles, browse or post study content, and engage with peers. Its goal is to enhance collaboration, knowledge sharing, and academic success in a supportive digital environment for students.
                    </div>
                </div>
            </a>
            <!-- Project 3 -->
            <a class="project-card" href="https://devpost.com/software/plowee" target="_blank">
                <img class="project-image" src="images/project_three.png" alt="Project 3">
                <div class="project-content">
                    <div class="project-title">Plowee</div>
                    <div class="project-desc">
                        Plowee uses Flutter for mobile development and Raspberry Pi hardware for real-time snowplow tracking. It integrates OpenAI for road condition analysis and employs SQL and Supabase for data management, enhancing community winter road safety and management efficiency.
                    </div>
                </div>
            </a>
            <!-- Project 4 -->
            <a class="project-card" href="https://github.com/caishamble/Hexadecimal_Counters_via_74LS161_IC" target="_blank">
                <img class="project-image" src="images/project_four.png" alt="Project 4">
                <div class="project-content">
                    <div class="project-title">HexaCount: Hexadecimal Counter with 74LS161 IC</div>
                    <div class="project-desc">
                        This project implements hexadecimal counters using the 74LS161 synchronous 4-bit binary counter IC. It explores the logic design, wiring, and counting behavior through schematic diagrams and simulations, demonstrating how multiple 74LS161 chips can be cascaded to achieve extended HexaCount in digital systems.
                    </div>
                </div>
            </a>

            <!-- Project 5 -->
            <a class="project-card" href="https://www.researchgate.net/publication/391492160_Verilog_vs_C_for_Matrix_Multiplication_A_Performance_Comparison_on_FPGA_and_ARM_CPU" target="_blank">
                <img class="project-image" src="images/project_five.png" alt="Project 5">
                <div class="project-content">
                    <div class="project-title">Verilog vs C in Matrix Multiplication</div>
                    <div class="project-desc">
                        This project compares 3×3 matrix multiplication using Verilog on FPGA and C on ARM CPU. Results show FPGA runs faster due to hardware parallelism, while ARM is easier to develop but slower. The study highlights performance versus development trade-offs in hardware and software approaches.
                    </div>
                </div>
            </a>

        </main>
    </div>
    <script>
        // Typing effect for subtitle with blinking cursor always blinking during typing
        const text = "Bridging what we thought and reality.";
        const typingDiv = document.getElementById('typing');
        let idx = 0;
        let cursorVisible = true;

        // Start blinking cursor (faster blink)
        setInterval(() => {
            cursorVisible = !cursorVisible;
            if (idx <= text.length) {
            typingDiv.textContent = text.slice(0, idx) + (cursorVisible ? "|" : " ");
            } else {
            typingDiv.textContent = text + (cursorVisible ? "|" : " ");
            }
        }, 400); // Blink every 250ms

        // Typing effect
        function type() {
            if (idx <= text.length) {
            typingDiv.textContent = text.slice(0, idx) + (cursorVisible ? "|" : " ");
            idx++;
            setTimeout(type, 100);
            }
        }
        type();
    </script>
</body>
</html>